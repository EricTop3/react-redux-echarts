webpackJsonp([23],{239:function(e,t,l){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var l=0;l<t.length;l++){var a=t[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,l,a){return l&&e(t.prototype,l),a&&e(t,a),t}}(),c=l(1),u=a(c),o=l(7),f=a(o),m=l(11),d=(a(m),l(13)),p=l(10),T=(a(p),l(3)),N=(a(T),l(22)),v=a(N),g=l(563),h=a(g);l(19),l(29),l(20),l(28),l(21);var E=l(32),y=a(E),O=function(e){function t(e){s(this,t);var l=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.getTodayTime=function(){var e=(new Date).getFullYear(),t=(new Date).getMonth()+1;t=t>=10?t:"0"+t;var a=(new Date).getDate();return a=a>=10?a:"0"+a,l.state.time2=e+"-"+t+"-"+a,l.state.time2},l.changeTime=function(e){if("active"!==e.target.className)switch(e.target.innerText){case"日":return void l.setState({time:"day",selectTime:"day"});case"周":return void l.setState({time:"week",selectTime:"week"});case"月":l.setState({time:"month",selectTime:"month"})}},l.search=function(){var e=f.default.findDOMNode(l.refs.selectTime1).getElementsByClassName("calendar")[0].getElementsByTagName("input")[0].value,t=f.default.findDOMNode(l.refs.selectTime2).getElementsByClassName("calendar")[0].getElementsByTagName("input")[0].value;e=h.default.changeTime(e),t=h.default.changeTime(t),f.default.findDOMNode(l.refs.selectTime1).className=f.default.findDOMNode(l.refs.selectTime1).className.replace(" selectTimeError",""),f.default.findDOMNode(l.refs.selectTime2).className=f.default.findDOMNode(l.refs.selectTime1).className.replace(" selectTimeError",""),f.default.findDOMNode(l.refs.selectSeller1).getElementsByTagName("input")[0].className=f.default.findDOMNode(l.refs.selectSeller1).getElementsByTagName("input")[0].className.replace(" selectTimeError",""),f.default.findDOMNode(l.refs.selectSeller2).getElementsByTagName("input")[0].className=f.default.findDOMNode(l.refs.selectSeller2).getElementsByTagName("input")[0].className.replace(" selectTimeError","");var a=f.default.findDOMNode(l.refs.selectSeller1).getElementsByTagName("input")[0],s=f.default.findDOMNode(l.refs.selectSeller2).getElementsByTagName("input")[0];if(!a.value.trim().length)return void(a.className+=" selectTimeError");if(!s.value.trim().length)return void(s.className+=" selectTimeError");if(s.value.trim()===a.value.trim())return void(s.className+=" selectTimeError");var r=new Date(e).getTime(),n=new Date(t).getTime(),i=Date.now(),c=!1;if(r>i&&(f.default.findDOMNode(l.refs.selectTime1).className+=" selectTimeError",c=!0),r>n&&(f.default.findDOMNode(l.refs.selectTime2).className+=" selectTimeError",c=!0),n>i&&(f.default.findDOMNode(l.refs.selectTime2).className+=" selectTimeError",c=!0),c)return!1;l.setState({sellersAndTime:a.value+","+s.value+"/"+e+","+t})},l.state={sellersAndTime:"",selectTime:"day",time:"",time1:"",time2:"",seller1:"",seller2:""},l}return n(t,e),i(t,[{key:"componentWillMount",value:function(){this.props.sellersListInit()}},{key:"componentDidMount",value:function(){this.props.changeActiveRoute()}},{key:"componentWillUpdate",value:function(e,t){if(e.sellersList){var l=f.default.findDOMNode(this.refs.selectSeller1).getElementsByTagName("input")[0],a=f.default.findDOMNode(this.refs.selectSeller2).getElementsByTagName("input")[0],s=this.getTodayTime();this.state.sellersAndTime||(l.value=e.sellersList.get(0),a.value=e.sellersList.get(1),this.state.sellersAndTime=l.value+","+a.value+"/"+s+","+s)}}},{key:"render",value:function(){var e=[];return this.props.sellersList&&this.props.sellersList.forEach(function(t,l){e.push(u.default.createElement("option",{key:l},t))}),u.default.createElement("div",{className:"chartWrapper"},u.default.createElement("div",{className:"selectOption inline"},"商家一：",u.default.createElement("div",{className:"selectSeller1 selectTime1",ref:"selectSeller1"},u.default.createElement("input",{list:"selectSeller1",className:"selectSeller1"}),u.default.createElement("datalist",{id:"selectSeller1"},e)),"   商家二： ",u.default.createElement("div",{className:"selectSeller2 selectTime2",ref:"selectSeller2"},u.default.createElement("input",{list:"selectSeller2",className:"selectSeller2"}),u.default.createElement("datalist",{id:"selectSeller2"},e))),u.default.createElement("div",{className:"selectOption inline"},"时间：   ",u.default.createElement("div",{className:"selectTime1",ref:"selectTime1"},u.default.createElement(v.default,null)),"  至  ",u.default.createElement("div",{className:"selectTime1",ref:"selectTime2"},u.default.createElement(v.default,null)),u.default.createElement("div",{className:"selectClick"},u.default.createElement("input",{type:"button",value:"查询",onClick:this.search}))),this.props.children&&u.default.cloneElement(this.props.children,{sellersAndTime:this.state.sellersAndTime}))}}]),t}(u.default.Component);O.propTypes={params:u.default.PropTypes.object.isRequired};var D=function(e){return{sellersList:e.getIn(["d","sellersList"])}};t.default=(0,d.connect)(D,y.default)(O)},563:function(e,t,l){"use strict";function a(){var e=new Date,t=e.getFullYear(),l=e.getMonth()+1,a=e.getDate();return t+"-"+l+"-"+(a-1)+","+t+"-"+l+"-"+a}function s(e){if(e){if(e.indexOf(",")>-1){var t=e.split(",");return s(t[0])+","+s(t[1])}var l=e.split("-");return l[1]=l[1]>=10?l[1]:"0"+l[1],l[2]=l[2]>=10?l[2]:"0"+l[2],l.join("-")}}Object.defineProperty(t,"__esModule",{value:!0}),t.default={getTime:a,changeTime:s}}});